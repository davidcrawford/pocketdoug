extends layout

mixin popover(caption, id)
  p= caption
  a.pull-right(href="/edit/#{id}/") Edit

block content
  h2.col-md-offset-1.col-md-11.title
    Birds of the San Francisco Bay Area
  .clearfix
  #filters
    p.clearfix
    #size-filter.btn-group-vertical
      button.btn.btn-default.active(data-filter='*') show all
      button.btn.btn-default(data-filter='[data-size=small]') small
      button.btn.btn-default(data-filter='[data-size=medium]') medium
      button.btn.btn-default(data-filter='[data-size=large]') large
    p.clearfix
    #color-filter.btn-group-vertical
      button.btn.btn-default.active(data-filter='*') show all
      each color in colors
        button.btn.btn-default(data-filter='[data-color*=#{color}]') #{color}
  #items.col-md-11.col-md-offset-1
    each bird in birds
      div.bird(data-commonality=bird.commonality, data-fun-fact=bird.fun_fact, data-size=bird.size, data-color=bird.color)
        a.bird_link(
          href="javaScript:void(0);"
          title="Fun Fact"
          tabindex=100
          data-toggle="popover"
          data-trigger="focus"
          data-content!="<p>#{bird.fun_fact}</p><a href='/edit/#{bird.id}/' class='pull-right'>Edit</a>"
          data-placement="top"
        )
          img(src=bird.photo_url, alt="#{bird.name}")

